/*import fs from 'fs';


 class UsersManager {
    static #path ="./users,json"
    static async CrearUsuarios (nombre,apellido,edad,curso){
        const exits = fs.existsSync(this.#path);

        if(!exits){
            const dataVacia = {payload:[]}
            await fs.promises.writeFile(this.#path, JSON.stringify(dataVacia))
        }

        // el archivo existe  o existe 

        const resultado = await fs.promises.readFile(this.#path,"utf-8")
        const data = JSON.parse (resultado)

         // {{payload:[]}

         const nuevoUsuario = {
            nombre,
            apellido,
            edad,
            curso,
         }
            data.payload.push (nuevoUsuario);

            await fs.promises.writeFile(this.#path, JSON.stringify(data))
    }

    //static async consultarUsuarios() {
     // const resultado = await fs.promises.readFile(this.#path, "utf-8")
     // const data = JSON.parse(resultado) 
     // return data.payload                  
    //

    static async borrarUsuarios(nombre) {
      const resul = await fs.promises.readFile(this.#path, "utf-8")
      const data = JSON.parse(resul)

      // filtar el usuario que no quiero borrar
      data.payload = data.payload.filter (user => user.nombre.toLowerCase() !== nombre.toLowerCase());

      await fs.promises.writeFile(this.#path, JSON.stringify(data))
   
    }
}

//UsersManager.CrearUsuarios("gaston","Perez",30,"NodeJS")
try {
   await UsersManager.borrarUsuarios("juan")
   console.log("Usuario borrado exitosamente")
} catch (error) {
   console.log("No se pudo borrar el usuario")
}

